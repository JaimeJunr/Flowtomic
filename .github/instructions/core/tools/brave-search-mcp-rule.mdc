---
description: Diretrizes completas para uso do Brave Search MCP Server - busca web, local, v√≠deo, imagem, not√≠cias e sumariza√ß√£o com IA
alwaysApply: false
---

# üîç Brave Search MCP Server - Regras Espec√≠ficas

> **üéØ Objetivo**: Fornecer diretrizes completas para uso do Brave Search MCP Server no projeto, baseado na documenta√ß√£o oficial do [brave-search-mcp-server](https://github.com/brave/brave-search-mcp-server/tree/a25160bcad9cded587b8ed94eacf9688a1b552de).

## üö® **COMPORTAMENTO OBRIGAT√ìRIO**

### **1. A√ß√µes Cr√≠ticas**

1. **SEMPRE configure** a API key do Brave Search antes de usar ferramentas
2. **SEMPRE valide** que a API key est√° configurada e v√°lida
3. **SEMPRE use** a ferramenta apropriada para o tipo de busca
4. **SEMPRE monitore** limites de uso da API (Free: 2.000 queries/m√™s)
5. **SEMPRE priorize** busca web para consultas gerais

### **2. Valida√ß√£o Obrigat√≥ria**

**SEMPRE execute** este checklist antes de qualquer opera√ß√£o:

- [ ] **API Key** configurada e v√°lida
- [ ] **Transport mode** configurado (STDIO padr√£o ou HTTP)
- [ ] **Ferramenta apropriada** selecionada para o tipo de busca
- [ ] **Par√¢metros obrigat√≥rios** fornecidos (query)
- [ ] **Limites de uso** verificados para evitar exceder quota

## üîê **CONFIGURA√á√ÉO E AUTENTICA√á√ÉO**

### **1. Configura√ß√£o Obrigat√≥ria**

**SEMPRE configure** vari√°veis de ambiente necess√°rias antes de usar as ferramentas:

> **‚ö†Ô∏è IMPORTANTE**: Sem API key configurada, todas as opera√ß√µes falhar√£o com erro de autentica√ß√£o.

```bash
# API Key do Brave Search (obrigat√≥ria)
BRAVE_API_KEY=your_brave_search_api_key

# Transport mode (opcional, padr√£o: stdio)
BRAVE_MCP_TRANSPORT=stdio  # ou "http"

# HTTP server (apenas se usar HTTP transport)
BRAVE_MCP_PORT=8080
BRAVE_MCP_HOST=0.0.0.0

# N√≠vel de log (opcional, padr√£o: info)
BRAVE_MCP_LOG_LEVEL=info  # debug, info, notice, warning, error, critical, alert, emergency

# Whitelist/Blacklist de ferramentas (opcional)
BRAVE_MCP_ENABLED_TOOLS=brave_web_search,brave_news_search
BRAVE_MCP_DISABLED_TOOLS=brave_image_search
```

### **2. Obten√ß√£o de API Key**

**SEMPRE siga** este processo para obter API key:

1. **SEMPRE acesse** https://brave.com/search/api/
2. **SEMPRE escolha** plano apropriado:
   - **Free**: 2.000 queries/m√™s, busca web b√°sica
   - **Pro**: Recursos avan√ßados incluindo busca local, sum√°rios IA, snippets extras
3. **SEMPRE gere** API key no dashboard: https://api-dashboard.search.brave.com/app/keys

### **3. Valida√ß√£o de Configura√ß√£o**

**SEMPRE teste** a configura√ß√£o antes de usar as ferramentas:

```bash
# ‚úÖ CORRETO: Verificar vari√°veis de ambiente
echo "BRAVE_API_KEY: ${BRAVE_API_KEY:0:10}..." # Mostrar apenas prefixo por seguran√ßa
echo "BRAVE_MCP_TRANSPORT: $BRAVE_MCP_TRANSPORT"

# ‚úÖ CORRETO: Testar conectividade (se usando HTTP)
curl -I "http://$BRAVE_MCP_HOST:$BRAVE_MCP_PORT"
```

## üõ†Ô∏è **FERRAMENTAS DISPON√çVEIS**

### **1. Web Search (brave_web_search)**

**SEMPRE use** para buscas web gerais com resultados ricos e filtros avan√ßados:

```json
{
  "query": "string (obrigat√≥rio, max 400 chars, 50 palavras)",
  "country": "string (opcional, padr√£o: US)",
  "search_lang": "string (opcional, padr√£o: en)",
  "ui_lang": "string (opcional, padr√£o: en-US)",
  "count": "number (opcional, 1-20, padr√£o: 10)",
  "offset": "number (opcional, max 9, padr√£o: 0)",
  "safesearch": "string (opcional, off|moderate|strict, padr√£o: moderate)",
  "freshness": "string (opcional, pd|pw|pm|py ou range de datas)",
  "text_decorations": "boolean (opcional, padr√£o: true)",
  "spellcheck": "boolean (opcional, padr√£o: true)",
  "result_filter": "array (opcional, padr√£o: [web, query])",
  "goggles": "array (opcional, custom re-ranking)",
  "units": "string (opcional, metric|imperial)",
  "extra_snippets": "boolean (opcional, apenas Pro)",
  "summary": "boolean (opcional, gerar summary key para IA)"
}
```

**Exemplos pr√°ticos:**

```json
// ‚úÖ CORRETO: Busca web b√°sica
brave_web_search({
  "query": "melhores pr√°ticas React 2024",
  "count": 10,
  "country": "BR",
  "search_lang": "pt"
})

// ‚úÖ CORRETO: Busca com sumariza√ß√£o IA
brave_web_search({
  "query": "como implementar autentica√ß√£o JWT",
  "summary": true,
  "count": 5
})

// ‚úÖ CORRETO: Busca recente (√∫ltimas 24h)
brave_web_search({
  "query": "not√≠cias sobre intelig√™ncia artificial",
  "freshness": "pd",
  "result_filter": ["web", "news"]
})
```

### **2. Local Search (brave_local_search)**

**SEMPRE use** para buscar neg√≥cios locais com informa√ß√µes detalhadas:

> **‚ö†Ô∏è NOTA**: Requer plano Pro para funcionalidades completas. Fallback para busca web caso contr√°rio.

**Par√¢metros**: Mesmos de `brave_web_search`, com filtro autom√°tico de localiza√ß√£o

```json
// ‚úÖ CORRETO: Busca de restaurantes pr√≥ximos
brave_local_search({
  "query": "restaurantes italianos perto de mim",
  "country": "BR"
})

// ‚úÖ CORRETO: Busca de servi√ßos
brave_local_search({
  "query": "bancos perto de Copacabana",
  "count": 5
})
```

### **3. Video Search (brave_video_search)**

**SEMPRE use** para buscar v√≠deos com metadados completos:

```json
{
  "query": "string (obrigat√≥rio, max 400 chars, 50 palavras)",
  "country": "string (opcional, padr√£o: US)",
  "search_lang": "string (opcional, padr√£o: en)",
  "ui_lang": "string (opcional, padr√£o: en-US)",
  "count": "number (opcional correto, 1-50, padr√£o: 20)",
  "offset": "number (opcional, max 9, padr√£o: 0)",
  "spellcheck": "boolean (opcional, padr√£o: true)",
  "safesearch": "string (opcional, off|moderate|strict, padr√£o: moderate)",
  "freshness": "string (opcional, pd|pw|pm|py ou range de datas)"
}
```

**Exemplos pr√°ticos:**

```json
// ‚úÖ CORRETO: Busca de v√≠deos tutoriais
brave_video_search({
  "query": "tutorial React hooks",
  "count": 10,
  "freshness": "py"
})

// ‚úÖ CORRETO: Busca de v√≠deos recentes
brave_video_search({
  "query": "palestras sobre TypeScript",
  "freshness": "pm",
  "safesearch": "off"
})
```

### **4. Image Search (brave_image_search)**

**SEMPRE use** para buscar imagens:

> **‚ö†Ô∏è IMPORTANTE**: Vers√£o 2.x remove dados base64 codificados. Retorna apenas URLs de imagens para melhor performance.

```json
{
  "query": "string (obrigat√≥rio, max 400 chars, 50 palavras)",
  "country": "string (opcional, padr√£o: US)",
  "search_lang": "string (opcional, padr√£o: en)",
  "count": "number (opcional, 1-200, padr√£o: 50)",
  "safesearch": "string (opcional, off|strict, padr√£o: strict)",
  "spellcheck": "boolean (opcional, padr√£o: true)"
}
```

**Exemplos pr√°ticos:**

```json
// ‚úÖ CORRETO: Busca de imagens
brave_image_search({
  "query": "diagramas de arquitetura de software",
  "count": 20,
  "safesearch": "off"
})

// ‚úÖ CORRETO: Busca de imagens espec√≠ficas
brave_image_search({
  "query": "logo React framework",
  "count": 10
})
```

### **5. News Search (brave_news_search)**

**SEMPRE use** para buscar not√≠cias atuais com controles de frescor:

```json
{
  "query": "string (obrigat√≥rio, max 400 chars, 50 palavras)",
  "country": "string (opcional, padr√£o: US)",
  "search_lang": "string (opcional, padr√£o: en)",
  "ui_lang": "string (opcional, padr√£o: en-US)",
  "count": "number (opcional, 1-50, padr√£o: 20)",
  "offset": "number (opcional, max 9, padr√£o: 0)",
  "spellcheck": "boolean (opcional, padr√£o: true)",
  "safesearch": "string (opcional, off|moderate|strict, padr√£o: moderate)",
  "freshness": "string (opcional, padr√£o: pd para √∫ltimas 24h)",
  "extra_snippets": "boolean (opcional, apenas Pro)",
  "goggles": "array (opcional, custom re-ranking)"
}
```

**Exemplos pr√°ticos:**

```json
// ‚úÖ CORRETO: Busca de not√≠cias recentes
brave_news_search({
  "query": "tecnologia e inova√ß√£o",
  "freshness": "pd",
  "count": 10
})

// ‚úÖ CORRETO: Busca de breaking news
brave_news_search({
  "query": "intelig√™ncia artificial",
  "freshness": "pw",
  "country": "BR"
})
```

### **6. Summarizer Search (brave_summarizer)**

**SEMPRE use** para gerar sum√°rios IA a partir de resultados de busca web:

> **‚ö†Ô∏è IMPORTANTE**: Requer usar `summary: true` na busca web primeiro para obter a `key`.

```json
{
  "key": "string (obrigat√≥rio, summary key de brave_web_search)",
  "entity_info": "boolean (opcional, padr√£o: false)",
  "inline_references": "boolean (opcional, padr√£o: false)"
}
```

**Fluxo correto:**

```json
// ‚úÖ CORRETO: Passo 1 - Busca web com summary
brave_web_search({
  "query": "melhores pr√°ticas de seguran√ßa em APIs",
  "summary": true
})
// Retorna: { "summary_key": "abc123..." }

// ‚úÖ CORRETO: Passo 2 - Gerar sum√°rio IA
brave_summarizer({
  "key": "abc123...",
  "entity_info": true,
  "inline_references": true
})
```

## üìã **ESTRAT√âGIAS DE USO**

### **1. Quando Usar Cada Ferramenta**

**SEMPRE escolha** a ferramenta apropriada baseado no contexto:

- **`brave_web_search`**: Buscas gerais na web, informa√ß√µes t√©cnicas, documenta√ß√£o
- **`brave_local_search`**: Neg√≥cios locais, restaurantes, servi√ßos pr√≥ximos
- **`brave_video_search`**: Tutoriais, palestras, conte√∫do em v√≠deo
- **`brave_image_search`**: Diagramas, logos, refer√™ncias visuais
- **`brave_news_search`**: Not√≠cias atuais, breaking news, atualiza√ß√µes
- **`brave_summarizer`**: Sum√°rios r√°pidos de t√≥picos complexos

### **2. Otimiza√ß√£o de Queries**

**SEMPRE otimize** queries para melhorar resultados:

```json
// ‚úÖ CORRETO: Queries espec√≠ficas e diretas
brave_web_search({ "query": "React hooks useState useEffect best practices" })

// ‚ùå INCORRETO: Queries vagas
brave_web_search({ "query": "React" })

// ‚úÖ CORRETO: Uso de filtros apropriados
brave_web_search({
  "query": "API REST",
  "result_filter": ["web", "query"],
  "freshness": "py"
})
```

### **3. Gerenciamento de Pagina√ß√£o**

**SEMPRE use** pagina√ß√£o adequada para grandes volumes:

```json
// ‚úÖ CORRETO: Primeira p√°gina
brave_web_search({
  "query": "programa√ß√£o funcional",
  "count": 10,
  "offset": 0
})

// ‚úÖ CORRETO: Segunda p√°gina
brave_web_search({
  "query": "programa√ß√£o funcional",
  "count": 10,
  "offset": 10
})
```

## üö® **LIMITA√á√ïES E RESTRI√á√ïES**

### **1. Limita√ß√µes T√©cnicas**

**SEMPRE considere** estas limita√ß√µes ao usar as ferramentas:

- **Rate Limiting**: Free plan tem limite de 2.000 queries/m√™s
- **Tamanho de Query**: M√°ximo de 400 caracteres ou 50 palavras
- **Pagination**: M√°ximo de 9 offsets (10 p√°ginas)
- **Image Search**: N√£o retorna dados base64 na vers√£o 2.x (apenas URLs)
- **Local Search**: Requer plano Pro para funcionalidades completas
- **Summarizer**: Requer busca web pr√©via com `summary: true`

### **2. Restri√ß√µes de Seguran√ßa**

**SEMPRE respeite** estas restri√ß√µes de seguran√ßa:

- **NUNCA compartilhe** API keys em c√≥digo ou commits
- **SEMPRE use** vari√°veis de ambiente para credenciais
- **SEMPRE configure** `safesearch` apropriado para conte√∫do
- **SEMPRE monitore** uso da API para evitar exceder limites
- **SEMPRE revogue** API keys comprometidas imediatamente

### **3. Requisitos de Plano**

**SEMPRE verifique** requisitos de plano antes de usar:

- **Free Plan**: Apenas busca web b√°sica
- **Pro Plan**: Busca local, sum√°rios IA, snippets extras, busca de imagens/v√≠deos/not√≠cias

## üîß **INSTALA√á√ÉO E CONFIGURA√á√ÉO**

### **1. Instala√ß√£o via Smithery**

**SEMPRE use** Smithery para instala√ß√£o autom√°tica:

```bash
# ‚úÖ CORRETO: Instala√ß√£o via Smithery
npx -y @smithery/cli install brave
```

### **2. Configura√ß√£o Claudio Desktop**

**SEMPRE configure** `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "brave-search": {
      "command": "npx",
      "args": ["-y", "@brave/brave-search-mcp-server", "--transport", "stdio"],
      "env": {
        "BRAVE_API_KEY": "YOUR_API_KEY_HERE"
      }
    }
  }
}
```

### **3. Configura√ß√£o VS Code**

**SEMPRE configure** `.vscode/mcp.json`:

```json
{
  "inputs": [
    {
      "password": true,
      "id": "brave-api-key",
      "type": "promptString",
      "description": "Brave Search API Key"
    }
  ],
  "servers": {
    "brave-search": {
      "command": "npx",
      "args": ["-y", "@brave/brave-search-mcp-server", "--transport", "stdio"],
      "env": {
        "BRAVE_API_KEY": "${input:brave-api-key}"
      }
    }
  }
}
```

## üö® **TROUBLESHOOTING**

### **1. Problemas Comuns**

#### **1.1 Falhas de Autentica√ß√£o**

**SEMPRE verifique**:

- API key v√°lida e n√£o expirada
- Vari√°vel de ambiente `BRAVE_API_KEY` configurada corretamente
- API key tem permiss√µes adequadas para o tipo de busca

#### **1.2 Erros de Transport**

**SEMPRE verifique**:

- Transport mode configurado corretamente (stdio ou http)
- Porta e host configurados se usando HTTP
- Servidor MCP rodando corretamente

#### **1.3 Limites de Quota**

**SEMPRE monitore**:

- Uso mensal da API (Free: 2.000 queries/m√™s)
- Upgrade para Pro se necess√°rio
- Caching de resultados quando apropriado

### **2. Ferramentas de Debug**

**SEMPRE use** MCP Inspector para testes:

```bash
# ‚úÖ CORRETO: Teste local com STDIO
npx @modelcontextprotocol/inspector node dist/index.js

# ‚úÖ CORRETO: Teste com HTTP
node dist/index.js --transport http
# Em outro terminal:
npx @modelcontextprotocol/inspector --transport http
```

**SEMPRE monitore** logs:

```bash
# ‚úÖ CORRETO: Verificar n√≠vel de log
export BRAVE_MCP_LOG_LEVEL=debug
```

## üìã **EXEMPLOS PR√ÅTICOS PARA PERFORMIT**

### **1. Busca de Documenta√ß√£o T√©cnica**

**SEMPRE use** `brave_web_search` para documenta√ß√£o:

```json
// ‚úÖ CORRETO: Buscar documenta√ß√£o Grails
brave_web_search({
  "query": "Grails 2.5.6 GORM domain classes documentation",
  "count": 5,
  "result_filter": ["web"],
  "search_lang": "en"
})

// ‚úÖ CORRETO: Buscar solu√ß√µes para bugs
brave_web_search({
  "query": "Grails MySQL connection pool configuration",
  "freshness": "py",
  "summary": true
})
```

### **2. Busca de Not√≠cias de Tecnologia**

**SEMPRE use** news search para atualiza√ß√µes:

```json
// ‚úÖ CORRETO: Not√≠cias sobre seguran√ßa
brave_news_search({
  "query": "vulnerabilidades seguran√ßa Java 2024",
  "freshness": "pw",
  "country": "BR"
})

// ‚úÖ CORRETO: Atualiza√ß√µes de frameworks
brave_news_search({
  "query": "React TypeScript updates",
  "freshness": "pm"
})
```

### **3. Busca de Tutoriais e V√≠deos**

**SEMPRE use** video search para conte√∫do educacional:

```json
// ‚úÖ CORRETO: Tutoriais sobre Clean Code
brave_video_search({
  "query": "Clean Code TDD DDD best practices",
  "count": 10,
  "freshness": "py"
})

// ‚úÖ CORRETO: Palestras sobre arquitetura
brave_video_search({
  "query": "software architecture patterns talks",
  "freshness": "py"
})
```

## ‚úÖ **VERIFICA√á√ÉO FINAL**

### **1. Checklist Obrigat√≥rio**

**SEMPRE execute** este checklist antes de usar QUALQUER ferramenta Brave Search:

- [ ] **API Key** configurada e testada
- [ ] **Transport mode** configurado adequadamente
- [ ] **Ferramenta apropriada** selecionada para o tipo de busca
- [ ] **Par√¢metros obrigat√≥rios** fornecidos (query)
- [ ] **Limites de uso** verificados para evitar exceder quota
- [ ] **Plano adequado** verificado (Free vs Pro)
- [ ] **Seguran√ßa** de API key garantida

### **2. Valida√ß√£o de Qualidade**

**SEMPRE valide** que a regra atende aos crit√©rios:

- [ ] **Estrutura hier√°rquica** clara com se√ß√µes numeradas
- [ ] **Linguagem imperativa** com "SEMPRE" e "NUNCA"
- [ ] **Exemplos posicionados** logo ap√≥s as regras
- [ ] **C√≥digo formatado** com coment√°rios explicativos
- [ ] **Links funcionais** e refer√™ncias atualizadas
- [ ] **Frontmatter** correto sem aspas nos campos

### **3. M√©tricas de Sucesso**

**SEMPRE monitore** estas m√©tricas de qualidade:

- **Redu√ß√£o de erros**: M√≠nimo 30% atrav√©s de configura√ß√£o adequada
- **Clareza de instru√ß√µes**: 100% de comandos diretos e acion√°veis
- **Exemplos integrados**: Posicionados para m√°ximo impacto
- **Funcionalidade preservada**: 100% das capacidades mantidas
- **Valida√ß√£o autom√°tica**: Configura√ß√£o testada e funcional

## üîó **REFER√äNCIAS**

### **Documenta√ß√£o Oficial**

- [brave-search-mcp-server GitHub](https://github.com/brave/brave-search-mcp-server/tree/a25160bcad9cded587b8ed94eacf9688a1b552de)
- [Brave Search API](https://brave.com/search/api/)
- [Brave API Dashboard](https://api-dashboard.search.brave.com/app/keys)
- [Model Context Protocol](https://modelcontextprotocol.io/)

### **Recursos de Ajuda**

- [Smithery Installation](https://smithery.ai/server/brave)
- [MCP Inspector](https://github.com/modelcontextprotocol/inspector)
- [Brave Search API Documentation](https://brave.com/search/api/docs/)

**Por que estas regras existem**: Integra√ß√£o eficiente com Brave Search garante buscas precisas e atualizadas para documenta√ß√£o, solu√ß√µes t√©cnicas e informa√ß√µes do projeto
**Automa√ß√£o**: Configure ferramentas para valida√ß√£o autom√°tica de API keys e monitoramento de uso
